
generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Usuario {
  id Int @id @default(autoincrement())
  nomeDoUsuario String
  nome String
  password String
}

model Projeto {
  id Int @id @default(autoincrement())
  contrato String @unique
  cr String @unique
  valor Float
  status String
  nome String
  coordenador String
  parcelas Int
  escolaId Int
  empresaId Int
  parcela Parcela[]
  empresas Empresa @relation(fields: [empresaId], references: [id], onDelete: Cascade)
  escolas Escola @relation(fields: [escolaId], references: [id], onDelete: Cascade)
  createdAt String
  updatedAt String
}

model Parcela{
  id Int @id @default(autoincrement())
  notaFiscal String
  valor Float
  situacaoPgto String
  liquidado Boolean
  diasPgtoComAtraso Int
  diasEmAtraso Int
  rps Int
  mesCompetencia String
  mesReferencia String
  contaFinanceira Int
  projetoId Int
  vencimento String
  dataLiquidacao String
  projeto Projeto @relation(fields: [projetoId], references: [id], onDelete: Cascade)
  createdAt String
  updatedAt String
}

model Empresa{
  id Int @id @default(autoincrement())
  nome String
  cnpj String @unique
  razaoSocial String @unique
  emailFinanceiro String @unique
  projetos Projeto[]
  createdAt String
  updatedAt String
}

model Escola{
  id Int @id @default(autoincrement())
  nome String
  projetos Projeto[]
  createdAt String
  updatedAt String
}